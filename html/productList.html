<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="../css/header.css"/>
		<link rel="stylesheet" type="text/css" href="../css/comment.css"/>
		<link rel="stylesheet" type="text/css" href="../css/footer.css"/>
		<link rel="stylesheet" type="text/css" href="../css/productList.css"/>
		<script src="../js/oAjax.js" type="text/javascript" charset="utf-8"></script>
		<script src="../js/jquery-1.11.0.js" type="text/javascript" charset="utf-8"></script>
		<script src="../js/template.js" type="text/javascript" charset="utf-8"></script>
		<script src="../js/productList.js" type="text/javascript" charset="utf-8"></script>
		<script src="../js/common.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			$(function(){
				$("#header").load("header.html");
				$("#footer").load("footer.html");
			})
		</script>
	</head>
	<body>
		<!-----引入头部---->
		<div id="header"></div>
		
		<div id="main">
			<div class="content">
				<div class="con-top">
					<a href="">首页</a>&gt;
					<a href="">喂养洗护</a>&gt;
				</div>
				<div class="con">
					<div class="con-left">
						<div class="fl">
							<span>
								<div>喂养用品</div>
							</span>
						</div>
						<div class="f2">
							<ul>
								<li><a href="">水杯/水壶</a></li>
							</ul>
						</div>
					</div>
					<div class="con-right">
						<div class="con-r1">
							<div class="productName"><span>商品品牌</span></div>
							<div class="nameList">
								<a href="">贝亲Pigeon</a>
								<a href="">飞利浦新安怡AVENT</a>
								<a href="">利其尔Richell</a>
								<a href="">杰克和吉尔JACK N'JILL</a>
								<a href="">膳魔师THEEMOS</a>
								<a href="">贝亲Pigeon</a>
								<a href="">贝亲Pigeon</a>
								<a href="">飞利浦新安怡AVENT</a>
								<a href="">利其尔Richell</a>
								<a href="">杰克和吉尔JACK N'JILL</a>
								<a href="">膳魔师THEEMOS</a>
								<a href="">贝亲Pigeon</a>
							</div>
						</div>
						<div class="con-r2">
							<div class="choose">
								<div class="choose-1">经营模式</div>
								<div class="choose-2">
									<a href="">速普自营</a>
									<a href="">速普保税区</a>
									<a href="">海外直邮</a>
								</div>
							</div>
							<div class="choose">
								<div class="choose-1">是否带手柄</div>
								<div class="choose-2">
									<a href="">否</a>
									<a href="">是</a>
								</div>
							</div>
							<div class="choose">
								<div class="choose-1">容量</div>
								<div class="choose-2">
									<a href="">160-350ml/g</a>
									<a href="">0-150ml/g</a>
									<a href="">360-550ml/g</a>
									<a href="">550ml以上</a>
								</div>
							</div>
							<div class="choose">
								<div class="choose-1">材质</div>
								<div class="choose-2">
									<a href="">pp</a>
									<a href="">硅胶</a>
									<a href="">不锈钢</a>
									<a href="">ppsu</a>
								</div>
							</div>
							<div class="choose">
								<div class="choose-1">产地</div>
								<div class="choose-2">
									<a href="">中国</a>
									<a href="">日本</a>
									<a href="">澳大利亚</a>
									<a href="">美国</a>
								</div>
							</div>
							<div class="choose">
								<div class="choose-1">分类</div>
								<div class="choose-2">
									<a href="">吸管杯</a>
									<a href="">饮水杯</a>
									<a href="">保温保冷杯</a>
									<a href="">其他水壶</a>
								</div>
							</div>
						</div>
							<div class="con-r3">
								<div class="choose">
								<div class="choose-1">排序：</div>
								<div class="choose-2">
									<a href="">销量&nbsp;↓</a>
									<a href="">价格&nbsp;↓</a>
									<a href="">好评&nbsp;↓</a>
								</div>
								<div class="choose-3">此类商品共<span>62</span>个</div>
							</div>
							</div>
							
							<div class="con-r4">
								<ul class="navLi">
								<!--<li>
										<a href="">
											<figure>
												<img src="../img/productList/pro4.jpg" />
												<figcaption>
													<p><span>6.8折/</span>&nbsp;THERMOS膳魔师</p>
													<p><span>￥265</span><span>￥388</span></p>
													<div class="form2">
														<form>
															<input type="text" value=" 1"/>
															<input type="button" value="+" />
															<input type="button" value="-" />
															<input type="button" value="加入购物车"/>
															<input type="button" value="收藏"/>
														</form>
													</div>
												</figcaption>
											</figure>
										</a>
								</li>-->
								</ul>
								
							</div>
							<div class="con-r5">
								<div class="fy">
									<a href="">首页</a>
									<a href="">上一页</a>
									<span id="nums">
				
									</span>
									<a href="">下一页</a>
									<a href="">尾页</a>	
								</div>	
							</div>
						</div>

					</div>	
				</div>
			</div>
		</div>
		<!-----引入尾部---->
		<div id="footer"></div>	
		<!--侧边栏-->
		<aside>
	<ul class="list4">
		<li>
			<a href="">&#xe659;</a>
			<span >我的速普</span>
		</li>
		<li>
			<a href="">&#xe643;</a>
			<span>我的收藏</span>
		</li>
		<li>
			<a href="">&#xe6f6;</a>
			<span>在线客服</span>
		</li>
		<li>
			<a href="cart.html">&#xe63f;</a>
			<span>购物车</span>
			<div class="num1">
				<b>0</b>
			</div>
		</li>
		<li>
			<a href="">&#xe8f3;</a>
			<span>返回顶部</span>
		</li>
	</ul>

</aside>
	/*-----侧边栏--------*/ 
<script type="text/javascript">	
$(function(){
	$(".list4 li").hover(
		function(){
		$(this).css("background","#c098f6").find("span").animate({"right":"30px"},500);
		},
		function(){
		$(this).css("background","none").find("span").animate({"right":"-70px"},500);
		}
	)
})
		</script>	

		<script type="text/javascript">
			var oList = document.getElementsByClassName("navLi")[0];
			var oLi = oList.getElementsByTagName("li");
			var oFy = document.getElementsByClassName("fy")[0];
			var oA = oFy.getElementsByTagName("a");
			var nums = document.getElementById("nums");
			var oDate = new Date();
			var times = oDate.getTime();
			Ajax("../php/products.txt?="+times,"get",{},foo);
			function foo(data){
				//console.log(data);
				data = eval(data); //将data转换成对象
				var total = data.length;
				var pageCont = 10; //设置每页显示内容的条数
				var pageNum = Math.ceil(total/pageCont);
				for(var i = 0;i<pageNum;i++){
					nums.innerHTML += "<a href=''>"+(i+1)+"</a>"; //将页数插入页面中	
				}
				oA[2].className = "cur";  //给第1页添加样式
				
				for(var j = 0;j<pageCont;j++){
					oList.innerHTML += "<li><a href='product.html?id="+data[j].id+"'><figure><img src='"+data[j].imgsrc+"'/></a><figcaption><p><span>"+data[j].zhekou+"</span>"+data[j].tit+"</p><p><span>"+data[j].price1+"</span><span>"+data[j].price2+"</span></p>"+
					"<div class='form2'><form><input type='text' value='1'/><input type='text' value='+'/><input type='text' value='-'/>"+
					"<input type='text' value='加入购物车' class='bt1' data-id='"+data[j].id+"'/><input type='text' value='收藏'/></form></div></figcaption></figure></li>";
				}
				var n = 1;
				for(let m = 0;m<oA.length;m++){
					oA[m].onclick = function(){
						oList.innerHTML ="";
						switch(m){
							case 0:
								n = 1;
							break;
							case 1:
								if(n>1){
									n=n-1;
								}
							break;
							case oA.length-1:
								n = oA.length-4;
							break;
							case oA.length-2:
								if(n<oA.length-4){
									n = n+1;	
								}
							break;
							default :
								n = m-1;
							break;
						};
						for(var h = 0;h<oA.length;h++){
							oA[h].className="";
						}
						oA[n+1].className="cur";
						
						for(var k = (n-1)*pageCont; k < Math.min(n*pageCont,data.length); k++){
								
						oList.innerHTML += "<li><a href='product.html?id="+data[k].id+"'><figure><img src='"+data[k].imgsrc+"'/></a><figcaption><p><span>"+data[k].zhekou+"</span>"+data[k].tit+"</p><p><span>"+data[k].price1+"</span><span>"+data[k].price2+"</span></p>"+
						"<div class='form2'><form><input type='text' value='1'/><input type='text' value='+'/><input type='text' value='-'/>"+
						"<input type='text' value='加入购物车'class='bt1' data-id='"+data[k].id+"'/><input type='text' value='收藏'/></form></div></figcaption></figure></li>";
						}	
					return false;
					}
				}
				
				var oNum = document.getElementsByClassName("num1")[0];
			var aBtn = document.getElementsByClassName("bt1");
			/*console.log(oNum);
			console.log(aBtn);*/
			var str = getCookie("cart");
			var obj = str ? JSON.parse(str) : {};//用来存商品ID（attr）和添加的数量（value）
			
			var sum = 0;
			for(var i in obj){
				sum+=obj[i];
			}
			oNum.innerHTML = sum;
			for(var i = 0; i < aBtn.length; i++){
				aBtn[i].onclick = function(){

					var id = this.getAttribute("data-id");
					
					obj[id] = obj[id] ? ++obj[id] : 1;
					
					//存cookie
					
					var objToStr = JSON.stringify(obj);
					
					setCookie("cart",objToStr,7);
					
					oNum.innerHTML = ++sum;
					
				}
			}
				
			}
		</script>
		
	</body>
</html>
